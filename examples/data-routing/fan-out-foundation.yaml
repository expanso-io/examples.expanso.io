name: fan-out-foundation
description: A foundation pipeline that sends events to a single file destination.
type: pipeline
namespace: production

config:
  input:
    http_server:
      address: 0.0.0.0:8080
      path: /events

  pipeline:
    processors:
      - mapping: |
          root = this
          root.processed_at = now()

  output:
    file:
      path: /tmp/events.jsonl
      codec: lines