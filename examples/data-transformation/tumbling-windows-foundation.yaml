name: tumbling-windows-foundation
description: A foundation pipeline that passes through a stream of sensor events without aggregation.
type: pipeline

config:
  input:
    generate:
      interval: 1s
      mapping: |
        root = {
          "sensor_id": "sensor-" + (random_int() % 10).string(),
          "temperature": (random_int() % 10) + 20,
          "timestamp": now().ts_format("2006-01-02T15:04:05Z")
        }

  pipeline:
    processors:
      - mapping: |
          root = this
          root.processed_at = now()

  output:
    stdout:
      codec: lines
