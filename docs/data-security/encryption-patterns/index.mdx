---
title: Field-Level Encryption Patterns
sidebar_label: Introduction
sidebar_position: 1
description: Master 6 essential field-level encryption patterns for compliance, security, and analytics at the edge
keywords: [encryption, field-level, aes, patterns, pci-dss, hipaa, gdpr, compliance, security]
---

# Field-Level Encryption Patterns

**Master production-ready field-level encryption at the edge** that protects sensitive data while preserving analytics value. This comprehensive guide teaches you 6 essential encryption patterns through an interactive explorer and hands-on tutorials.

## The Problem

Your data streams contain sensitive information that requires encryption, but naive approaches destroy analytics value:

```json
{
  "payment": {
    "card_number": "4532-1234-5678-9010",    // ❌ PCI-DSS violation
    "cvv": "123",                            // ❌ Highly sensitive
    "cardholder_name": "Sarah Johnson"       // ❌ PII exposure
  },
  "customer": {
    "ssn": "123-45-6789",                    // ❌ High-risk PII
    "email": "sarah@example.com",            // ❌ PII under GDPR
    "phone": "+1-415-555-0123"               // ❌ PII exposure
  },
  "transaction_id": "txn-12345",             // ✅ Safe for analytics
  "amount": 49.99,                           // ✅ Safe for analytics
  "timestamp": "2025-01-15T10:00:00Z"        // ✅ Safe for analytics
}
```

**The challenge:** Encrypt sensitive fields for compliance while preserving analytics-safe metadata (transaction patterns, regional trends, customer service lookup capabilities).

## The Solution: 6 Field Encryption Patterns

This guide teaches you how to apply the right encryption strategy for each data type:

### 1. **Payment Card Encryption** → PCI-DSS Compliance
AES-256-GCM encryption with last-4 preservation for customer service.
- **Use case:** Credit card data protection (PCI-DSS 3.2.1)
- **Method:** Encrypt full number, preserve last 4 digits + brand
- **Result:** Compliance-ready with customer service lookup

### 2. **PII Data Encryption** → GDPR/CCPA Compliance
Multi-field encryption with selective metadata preservation.
- **Use case:** Personal identifiers (SSN, email, phone)
- **Method:** Field-specific encryption with domain/area code preservation
- **Result:** Privacy compliance with regional analytics

### 3. **Address Encryption** → Location Privacy
Street-level encryption with geographic aggregation.
- **Use case:** Billing/shipping addresses
- **Method:** Encrypt detailed address, preserve city/state/zip prefix
- **Result:** Location privacy with demographic analytics

### 4. **Date Encryption** → Temporal Privacy
Sensitive date encryption with cohort preservation.
- **Use case:** Birth dates, appointment dates
- **Method:** Encrypt exact date, preserve year/age ranges
- **Result:** Temporal privacy with age-based analytics

### 5. **Multi-Key Strategy** → Risk-Based Security
Different keys for different sensitivity levels.
- **Use case:** Tiered data sensitivity (payment vs contact info)
- **Method:** Separate keys by data type and rotation frequency
- **Result:** Breach containment and flexible key management

### 6. **Key Rotation & Audit** → Operational Security
Versioned keys with comprehensive audit trails.
- **Use case:** Production security operations
- **Method:** Key versioning, metadata tracking, audit logging
- **Result:** Zero-downtime rotation with compliance audit trail

## Why Process at the Edge?

**Compliance by Design:** Encrypt before data reaches your cloud systems—reducing scope of compliance audits and data breach impact.

**Cost Efficiency:** Process once at the edge vs. multiple times in cloud—reducing compute costs and data transfer volumes.

**Performance:** Encryption at ingestion point eliminates downstream encryption overhead and reduces latency.

**Security:** Minimize plaintext data exposure time and reduce attack surface for sensitive information.

## What You'll Learn

By the end of this guide, you'll be able to:

✅ **Implement PCI-DSS compliant** credit card encryption with customer service preservation
✅ **Design GDPR-compliant** PII encryption strategies with analytics preservation
✅ **Build multi-tier** encryption architectures with different keys for different data sensitivity
✅ **Operate production** encryption pipelines with key rotation and audit requirements
✅ **Troubleshoot** encryption failures, performance issues, and compliance gaps
✅ **Deploy** comprehensive field-level encryption at enterprise scale

## Get Started

### Option 1: Interactive Explorer (Recommended)
**See** each encryption pattern in action with side-by-side before/after views.

[**→ Launch Interactive Explorer**](./explorer)

### Option 2: Step-by-Step Tutorial
**Build** the encryption pipeline incrementally, one pattern at a time.

1. [**Setup Guide**](./setup) - Environment, keys, and basic pipeline
2. [**Step 1: Payment Encryption**](./step-1-encrypt-payment-data) - PCI-DSS compliant card encryption
3. [**Step 2: PII Encryption**](./step-2-encrypt-pii-fields) - Multi-field personal data encryption
4. [**Step 3: Address Encryption**](./step-3-encrypt-addresses) - Location privacy with analytics
5. [**Step 4: Date Encryption**](./step-4-encrypt-dates) - Temporal data with cohort preservation
6. [**Step 5: Multi-Key Security**](./step-5-multi-key-strategy) - Risk-based key architecture
7. [**Step 6: Production Operations**](./step-6-key-rotation-audit) - Rotation, audit, and monitoring

### Option 3: Jump to Complete Solution
**Download** the complete, production-ready encryption pipeline.

[**→ Get Complete Pipeline**](./complete-encryption-pipeline)

## Who This Guide Is For

- **Security Engineers** implementing field-level encryption for compliance requirements
- **Data Engineers** protecting sensitive data while preserving analytics capabilities  
- **DevOps Teams** deploying encryption at scale with key management and rotation
- **Compliance Teams** ensuring GDPR, PCI-DSS, HIPAA, and CCPA requirements are met

## Prerequisites

- Expanso Edge Runtime installed ([Installation Guide](https://docs.expanso.io/installation))
- Basic familiarity with YAML configuration
- Understanding of symmetric encryption concepts (AES-256)
- Access to key management system (AWS KMS, HashiCorp Vault, or environment variables)

## Time to Complete

- **Interactive Explorer:** 15 minutes
- **Step-by-Step Tutorial:** 60-90 minutes  
- **Quick Deploy:** 10 minutes

## Real-World Impact

**Before Field Encryption:**
```
- Compliance audit scope: Entire data infrastructure
- Data breach exposure: All customer data at risk
- Processing costs: Multiple encryption points in cloud
- Customer service: Requires access to production databases
```

**After Field Encryption:**
```
- Compliance audit scope: Only edge encryption layer
- Data breach exposure: Encrypted data only (keys separate)
- Processing costs: Single encryption point, 40% cost reduction
- Customer service: Lookup via last-4 digits, no database access
```

---

## Next Steps

Ready to start? Choose your learning path:

<div style={{display: 'flex', gap: '1.5rem', marginTop: '2rem', marginBottom: '3rem', flexWrap: 'wrap', justifyContent: 'flex-start'}}>
  <a href="./explorer" className="button button--primary button--lg" style={{display: 'inline-flex', alignItems: 'center', justifyContent: 'center', textDecoration: 'none', borderRadius: '8px', padding: '1rem 2rem', fontWeight: '600', minWidth: '240px', boxShadow: '0 2px 8px rgba(0,0,0,0.15)', cursor: 'pointer', transition: 'all 0.2s ease'}}>
    Interactive Explorer
  </a>
  <a href="./setup" className="button button--secondary button--lg" style={{display: 'inline-flex', alignItems: 'center', justifyContent: 'center', textDecoration: 'none', borderRadius: '8px', padding: '1rem 2rem', fontWeight: '600', minWidth: '240px', boxShadow: '0 2px 8px rgba(0,0,0,0.15)', cursor: 'pointer', transition: 'all 0.2s ease'}}>
    Step-by-Step Tutorial
  </a>
</div>

**Questions?** Check [Troubleshooting](./troubleshooting) or see [Related Examples](#related-examples) below.

## Related Examples

- [**Remove PII from Data Streams**](../remove-pii) - Alternative approach using hashing and anonymization
- [**Delete Payment PII**](../delete-payment-pii) - Simple deletion patterns for high-risk data
- [**Encrypt Data**](../encrypt-data) - Basic encryption implementation tutorial
